/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./js/src/main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./css/src/main.scss":
/*!***************************!*\
  !*** ./css/src/main.scss ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./css/src/main.scss?");

/***/ }),

/***/ "./js/src/components/global-transformations.js":
/*!*****************************************************!*\
  !*** ./js/src/components/global-transformations.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* global window wp */\n\nconst Global_Transformations = {\n\tsample: {\n\t\timage: document.getElementById( 'transformation-sample-image' ),\n\t\tvideo: document.getElementById( 'transformation-sample-video' ),\n\t},\n\tpreview: {\n\t\timage: document.getElementById( 'sample-image' ),\n\t\tvideo: document.getElementById( 'sample-video' ),\n\t},\n\tfields: document.getElementsByClassName( 'cld-field' ),\n\tbutton: {\n\t\timage: document.getElementById( 'refresh-image-preview' ),\n\t\tvideo: document.getElementById( 'refresh-video-preview' ),\n\t},\n\tspinner: {\n\t\timage : document.getElementById( 'image-loader' ),\n\t\tvideo : document.getElementById( 'video-loader' ),\n\t},\n\terror_container: document.getElementById('cld-preview-error'),\n\tactiveItem: null,\n\telements: {\n\t\timage: [],\n\t\tvideo: [],\n\t},\n\t_placeItem: function( item ) {\n\t\tif ( null !== item ) {\n\t\t\titem.style.display    = 'block';\n\t\t\titem.style.visibility = 'visible';\n\t\t\titem.style.position   = 'absolute';\n\t\t\titem.style.top        = (item.parentElement.clientHeight / 2) - (item.clientHeight / 2) + 'px';\n\t\t\titem.style.left       = (item.parentElement.clientWidth / 2) - (item.clientWidth / 2) + 'px';\n\t\t}\n\t},\n\t_setLoading: function( type ) {\n\t\tthis.button[ type ].style.display = 'block';\n\t\tthis._placeItem( this.button[ type ] );\n\t\tthis.preview[ type ].style.opacity = '0.1';\n\n\t\t},\n\t_build: function( type ) {\n\t\tthis.sample[ type ].innerHTML = '';\n\t\tthis.elements[ type ]         = [];\n\t\tfor (let item of this.fields) {\n\t\t\tif( type !== item.dataset.context ){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tlet value = item.value.trim();\n\t\t\tif ( value.length ) {\n\n\t\t\t\tif ( 'select-one' === item.type ) {\n\t\t\t\t\tif ( 'none' === value ) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tvalue = item.dataset.meta + '_' + value;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlet type = item.dataset.context;\n\t\t\t\t\tvalue = this._transformations( value, type, true );\n\t\t\t\t}\n\t\t\t\t// Apply value if valid.\n\t\t\t\tif( value ) {\n\t\t\t\t\tthis.elements[ type ].push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tlet transformations = '';\n\t\tif ( this.elements[ type ].length ) {\n\t\t\ttransformations = '/' + this.elements[ type ].join( ',' ).replace( / /g, '%20' );\n\t\t}\n\t\tthis.sample[ type ].textContent        = transformations;\n\t\tthis.sample[ type ].parentElement.href = 'https://res.cloudinary.com/demo/' + this.sample[ type ].parentElement.innerText.trim().replace('../', '').replace( / /g, '%20' );\n\t},\n\t_clearLoading: function( type ) {\n\t\tthis.spinner[ type ].style.visibility = 'hidden';\n\t\tthis.activeItem                       = null;\n\t\tthis.preview[ type ].style.opacity    = 1;\n\t},\n\t_refresh: function( e, type ) {\n\t\tif( e ) {\n\t\t\te.preventDefault();\n\t\t}\n\t\tlet self    = this;\n\t\tlet new_src = CLD_GLOBAL_TRANSFORMATIONS[ type ].preview_url + self.elements[ type ].join( ',' ) + CLD_GLOBAL_TRANSFORMATIONS[ type ].file;\n\t\tthis.button[ type ].style.display = 'none';\n\t\tthis._placeItem( this.spinner[ type ] );\n\t\tif ( type === 'image' ) {\n\t\t\tlet newImg = new Image;\n\t\t\tnewImg.onload = function() {\n\t\t\t\tself.preview[ type ].src = this.src;\n\t\t\t\tself._clearLoading( type );\n\t\t\t\tif ( self.error_container ) {\n\t\t\t\t\tself.error_container.style.display = 'none';\n\t\t\t\t}\n\t\t\t\tnewImg.remove();\n\t\t\t};\n\t\t\tnewImg.onerror = function() {\n\t\t\t\tconst has_fmp4 = self.elements[ type ].includes( 'f_mp4' );\n\n\t\t\t\tif ( self.error_container ) {\n\t\t\t\t\tself.error_container.style.display = 'block';\n\n\t\t\t\t\tif (!has_fmp4) {\n\t\t\t\t\t\tself.error_container.innerHTML = CLD_GLOBAL_TRANSFORMATIONS[type].error;\n\t\t\t\t\t\tself.error_container.classList.replace('settings-alert-warning', 'settings-alert-error');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// temporary, will be replaced with i18n.sprintf instead of .replace\n\t\t\t\t\t\tself.error_container.innerHTML = CLD_GLOBAL_TRANSFORMATIONS[type].warning.replace('%s', 'f_mp4');\n\t\t\t\t\t\tself.error_container.classList.replace('settings-alert-error', 'settings-alert-warning');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tself._clearLoading( type );\n\t\t\t};\n\t\t\tnewImg.src = new_src;\n\t\t}else{\n\t\t\tlet transformations = self._transformations( self.elements[ type ].join( ',' ), type );\n\t\t\tsamplePlayer.source( { publicId: 'dog', transformation: transformations } );\n\t\t\tself._clearLoading( type );\n\t\t}\n\t},\n\t_transformations : function( input, type, string = false ){\n\t\tlet set = CLD_GLOBAL_TRANSFORMATIONS[ type ].valid_types;\n\t\tlet value = null;\n\t\tlet elements = input.split( '/' );\n\t\tlet valid_elements = [];\n\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\tlet parts = elements[ i ].split(',');\n\t\t\tlet valid_parts;\n\t\t\tif( true === string ) {\n\t\t\t\tvalid_parts = [];\n\t\t\t}else{\n\t\t\t\tvalid_parts = {};\n\t\t\t}\n\t\t\tfor (let p = 0; p < parts.length; p++) {\n\t\t\t\tlet key_val = parts[ p ].trim().split('_');\n\t\t\t\tif( key_val.length <= 1 || typeof set[ key_val[0] ] === 'undefined' ){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tlet option = key_val.shift();\n\t\t\t\tlet instruct = key_val.join( '_' );\n\t\t\t\tif( true === string ) {\n\t\t\t\t\tif( 'f' === option || 'q' === option ){\n\t\t\t\t\t\tfor( let t in this.elements[ type ] ){\n\t\t\t\t\t\t\tif( option + '_' === this.elements[ type ][ t ].substr(0,2 ) ){\n\t\t\t\t\t\t\t\tthis.elements[ type ].splice(t,1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvalid_parts.push( parts[ p ] );\n\t\t\t\t}else{\n\t\t\t\t\tvalid_parts[ set[ option ] ] = instruct.trim();\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet length = 0;\n\t\t\tif( true === string ) {\n\t\t\t\tlength = valid_parts.length;\n\t\t\t}else{\n\t\t\t\tlength = Object.keys( valid_parts ).length;\n\t\t\t}\n\t\t\tif ( length ) {\n\t\t\t\tif( true === string ) {\n\t\t\t\t\tvalid_parts = valid_parts.join( ',' );\n\t\t\t\t}\n\t\t\t\tvalid_elements.push( valid_parts );\n\t\t\t}\n\t\t}\n\n\t\tif ( valid_elements.length ) {\n\t\t\tif( true === string ) {\n\t\t\t\tvalue = valid_elements.join( '/' ).trim();\n\t\t\t}else{\n\t\t\t\tvalue = valid_elements;\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\t_reset: function() {\n\t\tfor (let item of this.fields) {\n\t\t\titem.value = null;\n\t\t}\n\t\tfor( let type in this.button ) {\n\t\t\tthis._build( type );\n\t\t\tthis._refresh( null, type );\n\t\t}\n\t},\n\t_input: function( input ){\n\t\tif( typeof input.dataset.context !== 'undefined' && input.dataset.context.length ) {\n\t\t\tlet type = input.dataset.context;\n\t\t\tthis._setLoading( type );\n\t\t\tthis._build( type );\n\t\t}\n\t},\n\t_init: function() {\n\n\t\tif ( typeof CLD_GLOBAL_TRANSFORMATIONS !== 'undefined' ) {\n\t\t\tlet self = this;\n\n\t\t\tdocument.addEventListener( 'DOMContentLoaded', function( ev ) {\n\t\t\t\tfor( let type in self.button ) {\n\t\t\t\t\tif( self.button[ type ] ) {\n\t\t\t\t\t\tself.button[ type ].addEventListener( 'click', function( e ) {\n\t\t\t\t\t\t\tself._refresh( e, type );\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (let item of self.fields) {\n\t\t\t\t\titem.addEventListener( 'input', function(){\n\t\t\t\t\t\tself._input( this );\n\t\t\t\t\t} );\n\t\t\t\t\titem.addEventListener( 'change', function() {\n\t\t\t\t\t\tself._input( this );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\t// Init.\n\t\t\t\tfor( let type in CLD_GLOBAL_TRANSFORMATIONS ) {\n\t\t\t\t\tself._build( type );\n\t\t\t\t\tself._refresh( null, type );\n\t\t\t\t}\n\t\t\t} );\n\t\t\t// listen to AJAX add-tag complete\n\t\t\tjQuery(document).ajaxComplete(function(event, xhr, settings) {\n\n\t\t\t\t// bail early if is other ajax call\n\t\t\t\tif( settings.data.indexOf('action=add-tag') === -1 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// bail early if response contains error\n\t\t\t\tif( xhr.responseText.indexOf('wp_error') !== -1 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tself._reset();\n\t\t\t});\n\t\t}\n\t},\n};\n\n// Init.\nGlobal_Transformations._init();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Global_Transformations);\n\n\n//# sourceURL=webpack:///./js/src/components/global-transformations.js?");

/***/ }),

/***/ "./js/src/components/media-library.js":
/*!********************************************!*\
  !*** ./js/src/components/media-library.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* global window wp */\nconst Media_Library = {\n\twpWrap: document.getElementById( 'wpwrap' ),\n\twpContent: document.getElementById( 'wpbody-content' ),\n\tlibraryWrap: document.getElementById( 'cloudinary-embed' ),\n\t_init: function() {\n\t\tlet self = this;\n\t\tif ( typeof CLD_ML !== 'undefined' ) {\n\n\t\t\tcloudinary.openMediaLibrary( CLD_ML.mloptions, {\n\t\t\t\t\tinsertHandler: function( data ) {\n\t\t\t\t\t\t// @todo: Determin what to do here.\n\t\t\t\t\t\talert( 'Import is not yet implemented.' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\n\t\t\twindow.addEventListener( 'resize', function( ev ) {\n\t\t\t\tself._resize();\n\t\t\t} );\n\n\t\t\tself._resize();\n\t\t}\n\t},\n\t_resize: function() {\n\t\tlet style = getComputedStyle( this.wpContent );\n\t\tthis.libraryWrap.style.height = (this.wpWrap.offsetHeight - parseInt( style.getPropertyValue( 'padding-bottom' ) )) + 'px';\n\t},\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Media_Library);\n\n// Init.\nMedia_Library._init();\n\n\n//# sourceURL=webpack:///./js/src/components/media-library.js?");

/***/ }),

/***/ "./js/src/components/notices.js":
/*!**************************************!*\
  !*** ./js/src/components/notices.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* global window wp  */\nconst Notices = {\n    _init: function() {\n        let self = this;\n        if ( typeof CLDIS !== 'undefined' ) {\n            let notices = document.getElementsByClassName( 'cld-notice' );\n            [ ...notices ].forEach( ( notice ) => {\n                notice.addEventListener( 'click', ( ev ) => {\n                    // WordPress has an onClick that cannot be unbound.\n                    // So, we have the click on our Notice, and act on the\n                    // button as a target.\n                    if ( 'notice-dismiss' === ev.target.className ) {\n                        self._dismiss( notice );\n                    }\n                } );\n            } );\n        }\n    },\n    _dismiss: function( notice ) {\n        let token    = notice.dataset.dismiss;\n        let duration = notice.dataset.duration;\n        wp.ajax.send( {\n            url  : CLDIS.url,\n            data : {\n                token    : token,\n                duration : duration,\n                _wpnonce : CLDIS.nonce\n            }\n        } );\n    },\n};\n\n// Init.\nwindow.addEventListener( 'load', Notices._init() );\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Notices);\n\n\n//# sourceURL=webpack:///./js/src/components/notices.js?");

/***/ }),

/***/ "./js/src/components/settings-page.js":
/*!********************************************!*\
  !*** ./js/src/components/settings-page.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() {\n\n\t// Disable the \"off\" dropdown option for Autoplay if\n\t// the player isn't set to Cloudinary or if Show Controls if unchecked.\n\tconst disableAutoplayOff = function() {\n\t\tconst player = jQuery( '#field-video_player' ).val();\n\t\tconst showControls = jQuery( '#field-video_controls' ).prop( 'checked' );\n\t\tconst offSelection = jQuery( '#field-video_autoplay_mode option[value=\"off\"]' );\n\n\t\tif ( player === 'cld' && ! showControls ) {\n\t\t\toffSelection.prop( 'disabled', true );\n\t\t\tif ( offSelection.prop( 'selected' ) ) {\n\t\t\t\toffSelection.next().prop( 'selected', true );\n\t\t\t}\n\t\t} else {\n\t\t\toffSelection.prop( 'disabled', false );\n\t\t}\n\t}\n\n\tdisableAutoplayOff();\n\tjQuery( document ).on( 'change', '#field-video_player', disableAutoplayOff );\n\tjQuery( document ).on( 'change', '#field-video_controls', disableAutoplayOff );\n\n\tjQuery( document ).ready( function( $ ) {\n\n\t\t// Initilize instance events\n\t\t$( document ).on( 'tabs.init', function() {\n\n\t\t\tvar tabs     = $( '.settings-tab-trigger' ),\n\t\t\t    sections = $( '.settings-tab-section' );\n\n\t\t\t// Create instance bindings\n\t\t\t$( this ).on( 'click', '.settings-tab-trigger', function( e ) {\n\t\t\t\tvar clicked = $( this ),\n\t\t\t\t    target  = $( clicked.attr( 'href' ) );\n\n\t\t\t\t// Trigger an instance action.\n\t\t\t\te.preventDefault();\n\n\t\t\t\ttabs.removeClass( 'active' );\n\t\t\t\tsections.removeClass( 'active' );\n\n\t\t\t\tclicked.addClass( 'active' );\n\t\t\t\ttarget.addClass( 'active' );\n\n\t\t\t\t// Trigger the tabbed event.\n\t\t\t\t$( document ).trigger( 'settings.tabbed', clicked );\n\n\t\t\t} );\n\n\t\t\t// Bind conditions.\n\t\t\t$( '.cld-field' ).not( '[data-condition=\"false\"]' ).each( function() {\n\t\t\t\tconst field     = $(this);\n\t\t\t\tconst condition = field.data('condition');\n\t\t\t\tfor (let f in condition) {\n\t\t\t\t\tconst value = condition[ f ];\n\t\t\t\t\tconst target = $( '#field-' + f );\n\t\t\t\t\tconst wrapper = field.closest('tr');\n\t\t\t\t\ttarget.on('change init', function(){\n\t\t\t\t\t\tif( this.value === value || this.checked ){\n\t\t\t\t\t\t\twrapper.show();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\twrapper.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\ttarget.trigger('init');\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t$('#field-cloudinary_url').on('input change', function(){\n\t\t\t\tlet field = $(this),\n\t\t\t\t\tvalue = field.val();\n\n\t\t\t\tlet reg = new RegExp(/^(?:CLOUDINARY_URL=)?(cloudinary:\\/\\/){1}(\\d)*[:]{1}[^:@]*[@]{1}[^@]*$/g );\n\t\t\t\tif( reg.test( value ) ){\n\t\t\t\t\tfield.addClass( 'settings-valid-field' );\n\t\t\t\t\tfield.removeClass( 'settings-invalid-field' );\n\t\t\t\t}else{\n\t\t\t\t\tfield.removeClass( 'settings-valid-field' );\n\t\t\t\t\tfield.addClass( 'settings-invalid-field' );\n\t\t\t\t}\n\t\t\t}).trigger('change');\n\n\t\t\t$('[name=\"cloudinary_sync_media[auto_sync]\"]').change(function () {\n\t\t\t\tif ($(this).val() === 'on') $('#auto-sync-alert-btn').click();\n\t\t\t});\n\n\n\t\t} );\n\n\t\t// On Ready, find all render trigger elements and fire their events.\n\t\t$( '.render-trigger[data-event]' ).each( function() {\n\t\t\tvar trigger = $( this ),\n\t\t\t    event   = trigger.data( 'event' );\n\t\t\ttrigger.trigger( event, this );\n\t\t} );\n\t} );\n\n})( window, jQuery );\n\n\n//# sourceURL=webpack:///./js/src/components/settings-page.js?");

/***/ }),

/***/ "./js/src/components/sync.js":
/*!***********************************!*\
  !*** ./js/src/components/sync.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* global window wp */\n\nconst Sync = {\n\tprogress: document.getElementById( 'progress-wrapper' ),\n\tsubmitButton: document.getElementById( 'submit' ),\n\tstopButton: document.getElementById( 'stop-sync' ),\n\tcompleted: document.getElementById( 'completed-notice' ),\n\tshow: 'inline-block',\n\thide: 'none',\n\tisRunning: false,\n\tgetStatus: function getStatus() {\n\t\tvar self = this,\n\t\t\tresourceType = [],\n\t\t\turl = cloudinaryApi.restUrl + 'cloudinary/v1/attachments',\n\t\t\tparams;\n\n\t\twp.ajax.send( {\n\t\t\turl: url,\n\t\t\ttype: 'GET',\n\t\t\tbeforeSend: function( request ) {\n\t\t\t\trequest.setRequestHeader( 'X-WP-Nonce', cloudinaryApi.nonce );\n\t\t\t},\n\t\t} ).done( function( data ) {\n\t\t\tSync.isRunning = data.is_running;\n\t\t\tif ( Sync.isRunning ) {\n\t\t\t\tsetTimeout( Sync.getStatus, 10000 );\n\t\t\t}\n\t\t\tSync._updateUI( data );\n\t\t} );\n\t},\n\tstopSync: function stopSync() {\n\t\tvar self = this,\n\t\t\turl = cloudinaryApi.restUrl + 'cloudinary/v1/sync';\n\n\t\tSync.isRunning = false;\n\n\t\twp.ajax.send( {\n\t\t\turl: url,\n\t\t\tdata: {\n\t\t\t\tstop: true,\n\t\t\t},\n\t\t\tbeforeSend: function( request ) {\n\t\t\t\trequest.setRequestHeader( 'X-WP-Nonce', cloudinaryApi.nonce );\n\t\t\t},\n\t\t} ).done( function( data ) {\n\t\t\tSync._updateUI( data );\n\t\t} );\n\t},\n\tpushAttachments: function pushAttachments() {\n\t\tvar self = this,\n\t\t\turl = cloudinaryApi.restUrl + 'cloudinary/v1/sync';\n\n\t\tSync.isRunning = true;\n\t\tSync.progress.style.display = Sync.show;\n\n\t\twp.ajax.send( {\n\t\t\turl: url,\n\t\t\tbeforeSend: function( request ) {\n\t\t\t\trequest.setRequestHeader( 'X-WP-Nonce', cloudinaryApi.nonce );\n\t\t\t},\n\t\t} ).done( function ( data ) {\n\t\t\tsetTimeout( Sync.getStatus, 10000 );\n\t\t} );\n\t},\n\t_updateUI: function _updateUI( data ) {\n\t\tif ( data.percent < 100 && typeof data.started !== 'undefined' ) {\n\t\t\tthis.submitButton.style.display = this.hide;\n\t\t\tthis.stopButton.style.display = this.show;\n\t\t}\n\t\telse if ( data.percent >= 100 && typeof data.started !== 'undefined' ) {\n\t\t\tthis.submitButton.style.display = this.hide;\n\t\t\tthis.stopButton.style.display = this.show;\n\t\t}\n\t\telse if ( data.pending > 0 ) {\n\t\t\tthis.submitButton.style.display = this.show;\n\t\t\tthis.stopButton.style.display = this.hide;\n\t\t}\n\t\telse if ( data.processing > 0 ) {\n\t\t\tthis.stopButton.style.display = this.show;\n\t\t}\n\t\telse {\n\t\t\tthis.stopButton.style.display = this.hide;\n\t\t}\n\n\t\tif ( data.percent === 100 ) {\n\t\t\tthis.completed.style.display = this.show;\n\t\t}\n\n\t\tif ( this.isRunning ) {\n\t\t\tthis.progress.style.display = this.show;\n\t\t}\n\t\telse {\n\t\t\tthis.progress.style.display = this.hide;\n\t\t}\n\t},\n\t_start: function _start( e ) {\n\t\te.preventDefault();\n\t\tSync.stopButton.style.display = Sync.show;\n\t\tSync.submitButton.style.display = Sync.hide;\n\t\tSync.pushAttachments();\n\t},\n\t_reset: function _reset( e ) {\n\t\tSync.submitButton.style.display = Sync.hide;\n\t\tSync.getStatus();\n\t},\n\t_init: function( fn ) {\n\n\t\tif ( typeof cloudinaryApi !== 'undefined' ) {\n\t\t\tif ( document.attachEvent ? document.readyState === 'complete' : document.readyState !== 'loading' ) {\n\t\t\t\tfn();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdocument.addEventListener( 'DOMContentLoaded', fn );\n\t\t\t}\n\t\t}\n\t},\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Sync);\n\n// Add it a trigger watch to stop deactivation.\nlet triggers = document.getElementsByClassName( 'cld-deactivate' );\n[ ...triggers ].forEach( ( trigger ) => {\n    trigger.addEventListener( 'click', function( ev ) {\n        if ( !confirm( wp.i18n.__( 'Caution: Your storage setting is currently set to \"Cloudinary only\", disabling the plugin will result in broken links to media assets. Are you sure you want to continue?', 'cloudinary' ) ) ) {\n            ev.preventDefault();\n        }\n    } );\n} );\n\n// Init.\nSync._init( function() {\n\tSync._reset();\n\tSync.submitButton.addEventListener( 'click', Sync._start );\n\tSync.stopButton.addEventListener( 'click', Sync.stopSync );\n} );\n\n\n//# sourceURL=webpack:///./js/src/components/sync.js?");

/***/ }),

/***/ "./js/src/components/taxonomies.js":
/*!*****************************************!*\
  !*** ./js/src/components/taxonomies.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("const toggler = document.querySelector( '.cloudinary-collapsible__toggle' );\n\nif ( toggler ) {\n  toggler.addEventListener( 'click', function () {\n    const content = document.querySelector( '.cloudinary-collapsible__content' );\n    const isHidden = window.getComputedStyle( content, null ).getPropertyValue( 'display' ) === 'none';\n    const arrowIcon = document.querySelector( '.cloudinary-collapsible__toggle button i' );\n  \n    content.style.display = isHidden ? 'block' : 'none'\n\n    const arrowDown = 'dashicons-arrow-down-alt2';\n    const arrowUp = 'dashicons-arrow-up-alt2';\n  \n    if ( arrowIcon.classList.contains( arrowDown ) ) {\n      arrowIcon.classList.remove(arrowDown)\n      arrowIcon.classList.add(arrowUp)\n    } else {\n      arrowIcon.classList.remove(arrowUp)\n      arrowIcon.classList.add(arrowDown)\n    }\n  } );\n}\n\n//# sourceURL=webpack:///./js/src/components/taxonomies.js?");

/***/ }),

/***/ "./js/src/components/terms_order.js":
/*!******************************************!*\
  !*** ./js/src/components/terms_order.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* global window wp wpAjax */\n\nconst Terms_Order = {\n    template: '',\n    tags: jQuery( '#cld-tax-items' ),\n    tagDelimiter: ( window.tagsSuggestL10n && window.tagsSuggestL10n.tagDelimiter ) || ',',\n    startId: null,\n    _init: function() {\n        // Check that we found the tax-items.\n        if ( !this.tags.length ) {\n            return;\n        }\n\n        const self = this;\n        this._sortable();\n\n        // Setup ajax overrides.\n        if ( typeof wpAjax !== 'undefined' ) {\n            wpAjax.procesParseAjaxResponse = wpAjax.parseAjaxResponse;\n            wpAjax.parseAjaxResponse = function( response, settingsResponse, element ) {\n                let newResponse = wpAjax.procesParseAjaxResponse( response, settingsResponse, element );\n                if ( !newResponse.errors && newResponse.responses[ 0 ] ) {\n                    if ( jQuery( '[data-taxonomy=\"' + newResponse.responses[ 0 ].what + '\"]' ).length ) {\n                        const data = jQuery( newResponse.responses[ 0 ].data );\n                        const text = data.find( 'label' ).last().text().trim();\n                        self._pushItem( newResponse.responses[ 0 ].what, text );\n                    }\n                }\n\n                return newResponse;\n            };\n        }\n\n        if ( typeof window.tagBox !== 'undefined' ) {\n            window.tagBox.processflushTags = window.tagBox.flushTags;\n            window.tagBox.flushTags = function( el, a, f ) {\n                if ( typeof f === 'undefined' ) {\n                    let text, list;\n                    const taxonomy = el.prop( 'id' );\n                    const newTag = jQuery( 'input.newtag', el );\n\n                    a = a || false;\n\n                    text = a ? jQuery( a ).text() : newTag.val();\n                    list = window.tagBox.clean( text ).split( self.tagDelimiter );\n                    for ( var i in list ) {\n                        var tag = taxonomy + ':' + list[ i ];\n                        if ( !jQuery( '[data-item=\"' + tag + '\"]' ).length ) {\n                            self._pushItem( tag, list[ i ] );\n                        }\n                    }\n                }\n\n                return this.processflushTags( el, a, f );\n            };\n\n            window.tagBox.processTags = window.tagBox.parseTags;\n\n            window.tagBox.parseTags = function( el ) {\n                const id = el.id;\n                const num = id.split( '-check-num-' )[ 1 ];\n                const taxonomy = id.split( '-check-num-' )[ 0 ];\n                const taxBox = jQuery( el ).closest( '.tagsdiv' );\n                const tagsTextarea = taxBox.find( '.the-tags' );\n                const tagToRemove = window.tagBox.clean( tagsTextarea.val() ).split( self.tagDelimiter )[ num ];\n\n                new wp.api.collections.Tags()\n                    .fetch( { data: { slug: tagToRemove } } )\n                    .done( ( tag ) => {\n                        const tagFromDatabase = tag.length ? jQuery( '[data-item=\"' + taxonomy + ':' + tag[ 0 ].id + '\"]' ) : false;\n\n                        if ( tagFromDatabase.length ) {\n                            tagFromDatabase.remove();\n                        }\n                        else {\n                            jQuery( `.cld-tax-order-list-item:contains(${ tagToRemove })` ).remove();\n                            --self.startId;\n                        }\n                        this.processTags( el );\n                    } );\n            };\n        }\n\n        jQuery( 'body' ).on( 'change', '.selectit input', function() {\n            const clickedItem = jQuery( this );\n            const id = clickedItem.val();\n            const checked = clickedItem.is( ':checked' );\n            const text = clickedItem.parent().text().trim();\n\n            if ( true === checked ) {\n                if( ! self.tags.find(`[data-item=\"category:${ id }\"]`).length ) {\n                    self._pushItem( `category:${ id }`, text );\n                }\n            }\n            else {\n                self.tags.find( `[data-item=\"category:${ id }\"]` ).remove();\n            }\n        } );\n    },\n    _createItem: function( id, name ) {\n        const li = jQuery( '<li/>' );\n        const icon = jQuery( '<span/>' );\n        const input = jQuery( '<input/>' );\n\n        li.addClass( 'cld-tax-order-list-item' ).attr( 'data-item', id );\n        input.addClass( 'cld-tax-order-list-item-input' ).attr( 'type', 'hidden' ).attr( 'name', 'cld_tax_order[]' ).val( id );\n        icon.addClass( 'dashicons dashicons-menu cld-tax-order-list-item-handle' );\n\n        li.append( icon ).append( name ).append( input ); // phpcs:ignore\n                                                          // WordPressVIPMinimum.JS.HTMLExecutingFunctions.append\n\n        return li;\n    },\n    _pushItem: function( id, text ) {\n        let item = this._createItem( id, text );\n        this.tags.append( item ); // phpcs:ignore\n                                  // WordPressVIPMinimum.JS.HTMLExecutingFunctions.append\n    },\n    _sortable: function() {\n        const items = jQuery( '.cld-tax-order-list' );\n\n        items.sortable( {\n            connectWith: '.cld-tax-order',\n            axis: 'y',\n            handle: '.cld-tax-order-list-item-handle',\n            placeholder: 'cld-tax-order-list-item-placeholder',\n            forcePlaceholderSize: true,\n            helper: 'clone',\n        } );\n    }\n};\n\nif ( typeof window.CLDN !== 'undefined' ) {\n    Terms_Order._init();\n    // Init checked categories.\n    jQuery( '[data-wp-lists] .selectit input[checked]' ).map( ( ord, check ) => {\n        jQuery( check ).trigger( 'change' );\n    } );\n}\n\n// Gutenberg.\nif ( wp.data && wp.data.select( 'core/editor' ) ) {\n    const orderSet = {};\n    wp.data.subscribe( function() {\n        let taxonomies = wp.data.select( 'core' ).getTaxonomies();\n\n        if ( taxonomies ) {\n            for ( let t in taxonomies ) {\n                const set = wp.data.select( 'core/editor' ).getEditedPostAttribute( taxonomies[ t ].rest_base );\n                orderSet[ taxonomies[ t ].slug ] = set;\n            }\n        }\n    } );\n\n    const el = wp.element.createElement;\n    const CustomizeTaxonomySelector = ( OriginalComponent ) => {\n        class CustomHandler extends OriginalComponent {\n            constructor( props ) {\n                super( props );\n\n                this.currentItems = jQuery( '.cld-tax-order-list-item' )\n                    .map( ( _, taxonomy ) => jQuery( taxonomy ).data( 'item' ) ).get();\n            }\n\n            makeItem( item ) {\n                // Prevent duplicates in the tax order box\n                if ( this.currentItems.includes( this.getId( item ) ) ) {\n                    return;\n                }\n\n                const row = this.makeElement( item );\n                const box = jQuery( '#cld-tax-items' );\n                box.append( row ); // phpcs:ignore\n                                   // WordPressVIPMinimum.JS.HTMLExecutingFunctions.append\n            }\n\n            removeItem( item ) {\n                const elementWithId = jQuery( `[data-item=\"${ this.getId( item ) }\"]` );\n\n                if ( elementWithId.length ) {\n                    elementWithId.remove();\n\n                    this.currentItems = this.currentItems.filter( ( taxIdentifier ) => {\n                        return taxIdentifier !== this.getId( item );\n                    } );\n                }\n            }\n\n            findOrCreateTerm( termName ) {\n                termName = super.findOrCreateTerm( termName );\n                termName.then( ( item ) => this.makeItem( item ) );\n\n                return termName;\n            }\n\n            onChange( event ) {\n                super.onChange( event );\n                const item = this.pickItem( event );\n\n                if ( item ) {\n                    if ( orderSet[ this.props.slug ].includes( item.id ) ) {\n                        this.makeItem( item );\n                    }\n                    else {\n                        this.removeItem( item );\n                    }\n                }\n            }\n\n            pickItem( event ) {\n                if ( typeof event === 'object' ) {\n                    if ( event.target ) {\n                        for ( let p in this.state.availableTerms ) {\n                            if ( this.state.availableTerms[ p ].id === parseInt( event.target.value ) ) {\n                                return this.state.availableTerms[ p ];\n                            }\n                        }\n                        // Tags that are already registered need to be selected\n                        // separately as its expected that they return back\n                        // with an \"id\" property.\n                    }\n                    else if ( Array.isArray( event ) ) {\n                        // Figure out the diff between the current state and\n                        // the event and determine which tag is getting removed\n                        let enteredTag = this.state.selectedTerms.filter( flatItem => !event.includes( flatItem ) )[ 0 ];\n\n                        if ( typeof enteredTag === 'undefined' ) {\n                            // If the above returns undefined, then we presume\n                            // the user is adding, so reverse the logic to\n                            // figure out the new item\n                            enteredTag = event.filter( flatItem => !this.state.selectedTerms.includes( flatItem ) )[ 0 ];\n                        }\n\n                        return this.state.availableTerms.find( ( item ) => item.name === enteredTag );\n                    }\n                }\n                else if ( typeof event === 'number' ) {\n                    for ( let p in this.state.availableTerms ) {\n                        if ( this.state.availableTerms[ p ].id === event ) {\n                            return this.state.availableTerms[ p ];\n                        }\n                    }\n                }\n                else {\n                    let text;\n\n                    // add or remove.\n                    if ( event.length > this.state.selectedTerms.length ) {\n                        // Added.\n                        for ( let o in event ) {\n                            if ( this.state.selectedTerms.indexOf( event[ o ] ) === -1 ) {\n                                text = event[ o ];\n                            }\n                        }\n                    }\n                    else {\n                        // removed.\n                        for ( let o in this.state.selectedTerms ) {\n                            if ( event.indexOf( this.state.selectedTerms[ o ] ) === -1 ) {\n                                text = this.state.selectedTerms[ o ];\n                            }\n                        }\n                    }\n\n                    for ( let p in this.state.availableTerms ) {\n                        if ( this.state.availableTerms[ p ].name === text ) {\n                            return this.state.availableTerms[ p ];\n                        }\n                    }\n                }\n            }\n\n            getId( item ) {\n                return `${ this.props.slug }:${ item.id }`;\n            }\n\n            makeElement( item ) {\n                const li = jQuery( '<li/>' );\n                const icon = jQuery( '<span/>' );\n                const input = jQuery( '<input/>' );\n\n                li\n                    .addClass( 'cld-tax-order-list-item' )\n                    .attr( 'data-item', this.getId( item ) );\n\n                input\n                    .addClass( 'cld-tax-order-list-item-input' )\n                    .attr( 'type', 'hidden' )\n                    .attr( 'name', 'cld_tax_order[]' ).val( this.getId( item ) );\n\n                icon.addClass( 'dashicons dashicons-menu cld-tax-order-list-item-handle' );\n\n                li.append( icon ).append( item.name ).append( input ); // phpcs:ignore\n                                                                       // WordPressVIPMinimum.JS.HTMLExecutingFunctions.append\n\n                return li;\n            }\n        }\n\n        return ( props ) => el( CustomHandler, props );\n    };\n\n    wp.hooks.addFilter(\n        'editor.PostTaxonomyType',\n        'cld',\n        CustomizeTaxonomySelector\n    );\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Terms_Order);\n\n\n//# sourceURL=webpack:///./js/src/components/terms_order.js?");

/***/ }),

/***/ "./js/src/components/widget.js":
/*!*************************************!*\
  !*** ./js/src/components/widget.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/* global window wp Backbone */\nif ( wp.media && window.CLDN ) {\n\n\twp.media.events.on( 'editor:image-edit', function( props ){\n\t\tprops.metadata.cldoverwrite = null;\n\t\tlet classes = props.image.className.split( ' ' );\n\t\tif( classes.indexOf('cld-overwrite' ) >= 0 ){\n\t\t\tprops.metadata.cldoverwrite = 'true';\n\t\t}\n\t} );\n\twp.media.events.on( 'editor:image-update', function( props ){\n\t\tlet classes = props.image.className.split( ' ' );\n\t\tif( props.metadata.cldoverwrite && classes.indexOf('cld-overwrite' ) === -1 ) {\n\t\t\tclasses.push( 'cld-overwrite' );\n\t\t} else if( ! props.metadata.cldoverwrite && classes.indexOf('cld-overwrite' ) >= 0 ) {\n\t\t\tdelete classes[ classes.indexOf('cld-overwrite' ) ];\n\t\t}\n\n\t\tprops.image.className = classes.join( ' ' );\n\t} );\n\n\t// Intercept props and inject cld-overwrite class.\n\tlet currentOverwrite = null;\n\tlet imageProps = wp.media.string.props;\n\twp.media.string.props = function( props, asset ){\n\t\tif( props.cldoverwrite ){\n\t\t\tprops.classes = [ 'cld-overwrite' ];\n\t\t\tcurrentOverwrite = true;\n\t\t}\n\t\tlet newProps = imageProps( props, asset );\n\t\treturn newProps;\n\t}\n\t// Intercept ajax post, and send the cld-overwrite flag, and transformations.\n\twp.media.post = function( action, data ) {\n\n\t\tif ( 'send-attachment-to-editor' === action ) {\n\t\t\tlet state  = wp.media.editor.get().state();\n\t\t\tlet attach = state.get( 'selection' ).get( data.attachment );\n\t\t\tif ( attach.attributes.transformations ) {\n\t\t\t\tdata.attachment.transformations = attach.attributes.transformations;\n\t\t\t}\n\t\t\tif( data.html.indexOf('cld-overwrite') > -1 || true === currentOverwrite ){\n\t\t\t\tdata.attachment.cldoverwrite = true;\n\t\t\t\tcurrentOverwrite = null;\n\t\t\t}\n\n\t\t}\n\t\t// Return the original.\n\t\treturn wp.ajax.post( action, data );\n\t};\n\n\tlet Library                           = wp.media.controller.Library;\n\tlet MediaFrame                        = wp.media.view.MediaFrame.Select;\n\tlet MediaFramePost                    = wp.media.view.MediaFrame.Post;\n\tlet MediaFrameImageDetails            = wp.media.view.MediaFrame.ImageDetails;\n\tlet MediaFrameVideoDetails            = wp.media.view.MediaFrame.VideoDetails;\n\tlet Cloudinary                        = wp.media.View.extend( {\n\t\ttagName: 'div',\n\t\tclassName: 'cloudinary-widget',\n\t\ttemplate: wp.template( 'cloudinary-dam' ),\n\t\tactive: false,\n\t\ttoolbar: null,\n\t\tframe: null,\n\t\tready: function() {\n\t\t\tlet controller          = this.controller;\n\t\t\tlet selection           = this.model.get( 'selection' );\n\t\t\tlet library             = this.model.get( 'library' );\n\t\t\tlet attachment          = wp.media.model.Attachment;\n\t\t\t// Set widget to same as model.\n\t\t\tCLDN.mloptions.multiple = controller.options.multiple;\n\t\t\tif ( this.cid !== this.active ) {\n\t\t\t\tCLDN.mloptions.inline_container = '#cloudinary-dam-' + controller.cid;\n\t\t\t\tif ( 1 === selection.length ) {\n\t\t\t\t\tvar att = attachment.get( selection.models[ 0 ].id );\n\t\t\t\t\tif ( typeof att.attributes.public_id !== 'undefined' ) {\n\t\t\t\t\t\tCLDN.mloptions.asset = {resource_id: att.attributes.public_id };\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tCLDN.mloptions.asset = null;\n\t\t\t\t}\n\t\t\t\twindow.ml = cloudinary.openMediaLibrary( CLDN.mloptions, {\n\t\t\t\t\t\tinsertHandler: function( data ) {\n\t\t\t\t\t\t\tfor (let i = 0; i < data.assets.length; i++) {\n\t\t\t\t\t\t\t\tlet temp = data.assets[ i ];\n\t\t\t\t\t\t\t\twp.media.post( 'cloudinary-down-sync', {\n\t\t\t\t\t\t\t\t\tnonce: CLDN.nonce,\n\t\t\t\t\t\t\t\t\tasset: temp,\n\t\t\t\t\t\t\t\t} ).done( function( asset ) {\n\t\t\t\t\t\t\t\t\tlet update_asset = function( asset, attach ){\n\t\t\t\t\t\t\t\t\t\tasset.uploading = false;\n\t\t\t\t\t\t\t\t\t\tattach.set( asset );\n\t\t\t\t\t\t\t\t\t\twp.Uploader.queue.remove( attach );\n\t\t\t\t\t\t\t\t\t\tif ( wp.Uploader.queue.length === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\twp.Uploader.queue.reset();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( typeof asset.resync !== 'undefined' ) {\n\t\t\t\t\t\t\t\t\t\tasset.resync.forEach( function( update_asset ){\n\t\t\t\t\t\t\t\t\t\t\tlet update_attach = attachment.get( update_asset.id );\n                                            update_attach.set( update_asset );\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( typeof asset.fetch !== 'undefined' ) {\n\n\t\t\t\t\t\t\t\t\t\tlet attach = attachment.get( asset.attachment_id );\n\t\t\t\t\t\t\t\t\t\tattach.set( asset );\n\t\t\t\t\t\t\t\t\t\tlibrary.add( attach );\n\t\t\t\t\t\t\t\t\t\twp.Uploader.queue.add( attach );\n\t\t\t\t\t\t\t\t\t\twp.ajax.send( {\n\t\t\t\t\t\t\t\t\t\t\turl: asset.fetch,\n\t\t\t\t\t\t\t\t\t\t\tbeforeSend: function( request ) {\n\t\t\t\t\t\t\t\t\t\t\t\trequest.setRequestHeader( 'X-WP-Nonce', CLDN.nonce );\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t\t\tsrc: asset.url,\n\t\t\t\t\t\t\t\t\t\t\t\tfilename: asset.filename,\n\t\t\t\t\t\t\t\t\t\t\t\tattachment_id: asset.attachment_id,\n\t\t\t\t\t\t\t\t\t\t\t\ttransformations: asset.transformations\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} ).done( function( asset ) {\n\t\t\t\t\t\t\t\t\t\t\tlet attach      = attachment.get( asset.id );\n\t\t\t\t\t\t\t\t\t\t\tupdate_asset( asset, attach );\n\t\t\t\t\t\t\t\t\t\t} ).fail( function( data ) {\n\t\t\t\t\t\t\t\t\t\t\tupdate_asset( asset, attach );\n\t\t\t\t\t\t\t\t\t\t\tlibrary.remove( attach );\n\t\t\t\t\t\t\t\t\t\t\tselection.remove( attach );\n\n\t\t\t\t\t\t\t\t\t\t\tif( typeof data === 'string' ) {\n\t\t\t\t\t\t\t\t\t\t\t\talert( data );\n\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\tif( data.status === 500 ){\n\t\t\t\t\t\t\t\t\t\t\t\t\talert('HTTP error.');\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\n\t\t\t\t\t\t\t\t\t\tlet attach = attachment.get( asset.id );\n\t\t\t\t\t\t\t\t\t\tattach.set( asset );\n\t\t\t\t\t\t\t\t\t\tselection.add( attach );\n\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( wp.Uploader.queue.length === 0 ) {\n\t\t\t\t\t\t\t\t\t\twp.Uploader.queue.reset();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcontroller.content.mode( 'browse' );\n\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdocument.querySelectorAll( '.dam-cloudinary' )[ 0 ]\n\t\t\t\t);\n\t\t\t}\n\t\t\tthis.active = this.cid;\n\t\t\treturn this;\n\t\t},\n\t} );\n\tlet extend_type                       = function( type ) {\n\t\tlet obj = {\n\n\t\t\t/**\n\t\t\t * Bind region mode event callbacks.\n\t\t\t *\n\t\t\t * @see media.controller.Region.render\n\t\t\t */\n\t\t\tbindHandlers: function() {\n\t\t\t\ttype.prototype.bindHandlers.apply( this, arguments );\n\t\t\t\tthis.on( 'content:render:cloudinary', this.cloudinaryContent, this );\n\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Render callback for the router region in the `browse` mode.\n\t\t\t *\n\t\t\t * @param {wp.media.view.Router} routerView\n\t\t\t */\n\t\t\tbrowseRouter: function( routerView ) {\n\n\t\t\t\ttype.prototype.browseRouter.apply( this, arguments );\n\t\t\t\tlet state_id = this.state().get( 'id' );\n\t\t\t\trouterView.set( {\n\t\t\t\t\tcloudinary: {\n\t\t\t\t\t\ttext: 'Cloudinary',\n\t\t\t\t\t\tpriority: 60\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t},\n\t\t\t/**\n\t\t\t * Render callback for the content region in the `upload` mode.\n\t\t\t */\n\t\t\tcloudinaryContent: function( contentRegion ) {\n\t\t\t\tlet state = this.state();\n\t\t\t\tlet view  = new Cloudinary( {\n\t\t\t\t\tcontroller: this,\n\t\t\t\t\tmodel: state,\n\t\t\t\t} ).render();\n\t\t\t\tthis.content.set( view );\n\t\t\t},\n\t\t};\n\n\t\treturn obj;\n\t};\n\t// Extending the current media library frames to add a new tab to each area.\n\twp.media.view.MediaFrame.Select       = MediaFrame.extend( extend_type( MediaFrame ) );\n\twp.media.view.MediaFrame.Post         = MediaFramePost.extend( extend_type( MediaFramePost ) );\n\twp.media.view.MediaFrame.ImageDetails = MediaFrameImageDetails.extend( extend_type( MediaFrameImageDetails ) );\n\twp.media.view.MediaFrame.VideoDetails = MediaFrameVideoDetails.extend( extend_type( MediaFrameVideoDetails ) );\n\n}\n\n\n//# sourceURL=webpack:///./js/src/components/widget.js?");

/***/ }),

/***/ "./js/src/main.js":
/*!************************!*\
  !*** ./js/src/main.js ***!
  \************************/
/*! exports provided: cloudinary */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cloudinary\", function() { return cloudinary; });\n/* harmony import */ var loading_attribute_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! loading-attribute-polyfill */ \"./node_modules/loading-attribute-polyfill/loading-attribute-polyfill.min.js\");\n/* harmony import */ var loading_attribute_polyfill__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(loading_attribute_polyfill__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_taxonomies__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/taxonomies */ \"./js/src/components/taxonomies.js\");\n/* harmony import */ var _components_taxonomies__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_components_taxonomies__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_settings_page__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/settings-page */ \"./js/src/components/settings-page.js\");\n/* harmony import */ var _components_settings_page__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_components_settings_page__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_sync__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/sync */ \"./js/src/components/sync.js\");\n/* harmony import */ var _components_widget__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/widget */ \"./js/src/components/widget.js\");\n/* harmony import */ var _components_widget__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_components_widget__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _components_global_transformations__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/global-transformations */ \"./js/src/components/global-transformations.js\");\n/* harmony import */ var _components_terms_order__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/terms_order */ \"./js/src/components/terms_order.js\");\n/* harmony import */ var _components_media_library__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/media-library */ \"./js/src/components/media-library.js\");\n/* harmony import */ var _components_notices__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/notices */ \"./js/src/components/notices.js\");\n/* harmony import */ var _css_src_main_scss__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../css/src/main.scss */ \"./css/src/main.scss\");\n/* harmony import */ var _css_src_main_scss__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_css_src_main_scss__WEBPACK_IMPORTED_MODULE_9__);\n/* global window */\n/**\n * Main JS.\n */\n\n// Components\n\n\n\n\n\n\n\n\n\n\n\n\n// jQuery, because reasons.\nconst $ = window.$ = window.jQuery;\n\n// Global Constants\nconst cloudinary = {\n\tsettings: (_components_settings_page__WEBPACK_IMPORTED_MODULE_2___default()),\n\tsync: _components_sync__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n\twidget: (_components_widget__WEBPACK_IMPORTED_MODULE_4___default()),\n\tGlobal_Transformations: _components_global_transformations__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n\tTerms_Order: _components_terms_order__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n\tMedia_Library: _components_media_library__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n\tNotices: _components_notices__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n};\n\n\n\n//# sourceURL=webpack:///./js/src/main.js?");

/***/ }),

/***/ "./node_modules/loading-attribute-polyfill/loading-attribute-polyfill.min.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/loading-attribute-polyfill/loading-attribute-polyfill.min.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*\n * Loading attribute polyfill - https://github.com/mfranzke/loading-attribute-polyfill\n * @license Copyright(c) 2019 by Maximilian Franzke\n * Credits for the initial kickstarter / script to @Sora2455, and supported by @cbirdsong, @eklingen, @DaPo, @nextgenthemes, @diogoterremoto, @dracos, @Flimm, @TomS- and @vinyfc93 - many thanks for that !\n */\n!function(e,t){\"use strict\";var r,a,o={rootMargin:\"256px 0px\",threshold:.01,lazyImage:'img[loading=\"lazy\"]',lazyIframe:'iframe[loading=\"lazy\"]'},n={loading:\"loading\"in HTMLImageElement.prototype&&\"loading\"in HTMLIFrameElement.prototype,scrolling:\"onscroll\"in window};function i(e){var t,r,a=[];\"picture\"===e.parentNode.tagName.toLowerCase()&&(t=e.parentNode,(r=t.querySelector(\"source[data-lazy-remove]\"))&&t.removeChild(r),a=Array.prototype.slice.call(e.parentNode.querySelectorAll(\"source\"))),a.push(e),a.forEach((function(e){e.hasAttribute(\"data-lazy-srcset\")&&(e.setAttribute(\"srcset\",e.getAttribute(\"data-lazy-srcset\")),e.removeAttribute(\"data-lazy-srcset\"))})),e.setAttribute(\"src\",e.getAttribute(\"data-lazy-src\")),e.removeAttribute(\"data-lazy-src\")}function c(e){var t=document.createElement(\"div\");for(t.innerHTML=function(e){var t=e.textContent||e.innerHTML,a=\"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 \"+((t.match(/width=['\"](\\d+)['\"]/)||!1)[1]||1)+\" \"+((t.match(/height=['\"](\\d+)['\"]/)||!1)[1]||1)+\"%27%3E%3C/svg%3E\";return!n.loading&&n.scrolling&&(void 0===r?t=t.replace(/(?:\\r\\n|\\r|\\n|\\t| )src=/g,' lazyload=\"1\" src='):(\"picture\"===e.parentNode.tagName.toLowerCase()&&(t='<source srcset=\"'+a+'\" data-lazy-remove=\"true\"></source>'+t),t=t.replace(/(?:\\r\\n|\\r|\\n|\\t| )srcset=/g,\" data-lazy-srcset=\").replace(/(?:\\r\\n|\\r|\\n|\\t| )src=/g,' src=\"'+a+'\" data-lazy-src='))),t}(e);t.firstChild;)n.loading||!n.scrolling||void 0===r||!t.firstChild.tagName||\"img\"!==t.firstChild.tagName.toLowerCase()&&\"iframe\"!==t.firstChild.tagName.toLowerCase()||r.observe(t.firstChild),e.parentNode.insertBefore(t.firstChild,e);e.parentNode.removeChild(e)}function d(){document.querySelectorAll(\"noscript.\"+e).forEach(c),void 0!==window.matchMedia&&window.matchMedia(\"print\").addListener((function(e){e.matches&&document.querySelectorAll(o.lazyImage+\"[data-lazy-src],\"+o.lazyIframe+\"[data-lazy-src]\").forEach((function(e){i(e)}))}))}\"undefined\"!=typeof NodeList&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),\"IntersectionObserver\"in window&&(r=new IntersectionObserver((function(e,t){e.forEach((function(e){if(0!==e.intersectionRatio){var r=e.target;t.unobserve(r),i(r)}}))}),o)),a=\"requestAnimationFrame\"in window?window.requestAnimationFrame:function(e){e()},/comp|inter/.test(document.readyState)?a(d):\"addEventListener\"in document?document.addEventListener(\"DOMContentLoaded\",(function(){a(d)})):document.attachEvent(\"onreadystatechange\",(function(){\"complete\"===document.readyState&&d()}))}(\"loading-lazy\");\n\n\n//# sourceURL=webpack:///./node_modules/loading-attribute-polyfill/loading-attribute-polyfill.min.js?");

/***/ })

/******/ });